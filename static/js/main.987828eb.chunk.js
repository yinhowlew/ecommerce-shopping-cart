(this["webpackJsonpecommerce-shopping-cart"]=this["webpackJsonpecommerce-shopping-cart"]||[]).push([[0],{18:function(e,t,n){e.exports=n(30)},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(3),l=n.n(c),o=n(1),u=n(2),i=n(10),s=n(11),m={products:[],filteredProducts:[],size:"",sort:"",cartItems:[]},d=(n(28),function(e){return"$"+(Math.round(100*e)/100).toFixed(2).toLocaleString()+" "}),p=n(16),f=function(e,t){return function(n){var a=e.slice(),r=!1;return a.forEach((function(e){e.id===t.id&&(e.count+=1,r=!0)})),r||a.push(Object(p.a)({},t,{count:1})),localStorage.setItem("cartItems",JSON.stringify(a)),n({type:"ADD_TO_CART",payload:{cartItems:a}})}},E=function(){var e=Object(o.c)((function(e){return e.productReducer.filteredProducts})),t=Object(o.c)((function(e){return e.productReducer.cartItems})),n=Object(o.b)();Object(a.useEffect)((function(){n((function(e){fetch("/ecommerce-shopping-cart/db.json").then((function(e){return e.json()})).then((function(t){return e({type:"FETCH_PRODUCTS",payload:t.products})}))}))}),[]);var c=e.map((function(e){return r.a.createElement("div",{className:"col-md-4",key:e.id},r.a.createElement("div",{className:"thumbnail text-center"},r.a.createElement("a",{href:"#".concat(e.id),onClick:function(){return n(f(t,e))}},r.a.createElement("img",{src:"".concat("/ecommerce-shopping-cart","/products/").concat(e.sku,"_2.jpg"),alt:e.title}),r.a.createElement("p",null,e.title)),r.a.createElement("b",null,d(e.price)),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return n(f(t,e))}},"Add to cart")))}));return r.a.createElement("div",{className:"row"},c)},b=function(){var e=Object(o.c)((function(e){return e.productReducer.products})),t=Object(o.c)((function(e){return e.productReducer.filteredProducts})),n=Object(o.c)((function(e){return e.productReducer.size})),a=Object(o.c)((function(e){return e.productReducer.sort})),c=Object(o.b)();return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"bot-pad col-md-4"},"".concat(t.length," products found.")),r.a.createElement("div",{className:"bot-pad col-md-4"},r.a.createElement("label",null,"Order by",r.a.createElement("select",{className:"form-control",value:a,onChange:function(e){return c(function(e,t){return function(n){var a=e.slice();return""!==t?a.sort((function(e,n){return"lowestprice"===t?e.price>n.price?1:-1:e.price<n.price?1:-1})):a.sort((function(e,t){return e.id>t.id?1:-1})),n({type:"SORT_PRODUCTS",payload:{sort:t,filteredProducts:a}})}}(t,e.target.value))}},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:"lowestprice"},"Lowest to highest"),r.a.createElement("option",{value:"highestprice"},"Highest to lowest")))),r.a.createElement("div",{className:"bot-pad col-md-4"},r.a.createElement("label",null," Filter Size",r.a.createElement("select",{className:"form-control",value:n,onChange:function(t){return c(function(e,t){return function(n){return n({type:"FILTER_PRODUCTS_BY_SIZE",payload:{size:t,filteredProducts:""===t?e:e.filter((function(e){return e.availableSizes.indexOf(t.toUpperCase())>=0}))}})}}(e,t.target.value))}},r.a.createElement("option",{value:""},"ALL"),r.a.createElement("option",{value:"x"},"XS"),r.a.createElement("option",{value:"s"},"S"),r.a.createElement("option",{value:"m"},"M"),r.a.createElement("option",{value:"l"},"L"),r.a.createElement("option",{value:"xl"},"XL"),r.a.createElement("option",{value:"xxl"},"XXL")))))},h=function(){var e=Object(o.c)((function(e){return e.productReducer.cartItems})),t=Object(o.b)();return r.a.createElement("div",{className:"alert alert-info"},0===e.length?"Basket is empty":r.a.createElement("div",null,"You have ",e.length," items in the basket. ",r.a.createElement("hr",null)),e.length>0&&r.a.createElement("div",null,r.a.createElement("ul",{style:{marginLeft:-25}},e.map((function(n){return r.a.createElement("li",{key:n.id},r.a.createElement("b",null,n.title),r.a.createElement("button",{style:{float:"right"},className:"btn btn-danger btn-xs",onClick:function(){return t((a=e,r=n,function(e){var t=a.slice().filter((function(e){return e.id!==r.id}));return localStorage.setItem("cartItems",JSON.stringify(t)),e({type:"REMOVE_FROM_CART",payload:{cartItems:t}})}));var a,r}},"X"),r.a.createElement("br",null),n.count," X ",d(n.price))}))),r.a.createElement("b",null,"Sum: ",d(e.reduce((function(e,t){return e+t.price*t.count}),0))),r.a.createElement("button",{onClick:function(){return alert("Pending: implement checkout page.")},className:"btn btn-primary"},"checkout")))},g=(n(29),n(12)),v=n(13),O=n(15),y=n(14),j=n(17),R=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Key Learnings"),r.a.createElement("ul",null,r.a.createElement("li",null,"Implemented Redux"),r.a.createElement("li",null,"Implemented react-redux hooks (useSelector, useDispatch) and useEffects hook"),r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/yinhowlew/ecommerce-shopping-cart"},"Source code")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/basir/ecommerce-shopping-cart"},"Built from Basir's project"))))}}]),t}(a.Component),S=function(){var e=Object(o.b)();return Object(a.useEffect)((function(){localStorage.getItem("cartItems")&&e((function(e){return e({type:"GET_LOCAL_CART",payload:JSON.parse(localStorage.getItem("cartItems"))})}))})),r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"E-commerce Shopping Cart Application"),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement(b,null),r.a.createElement("hr",null),r.a.createElement(E,null)),r.a.createElement("div",{className:"col-md-3"},r.a.createElement(h,null),r.a.createElement(R,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=Object(i.createLogger)(),I=Object(u.c)({productReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS":return Object.assign({},e,{products:t.payload,filteredProducts:t.payload});case"FILTER_PRODUCTS_BY_SIZE":return Object.assign({},e,{size:t.payload.size,filteredProducts:t.payload.filteredProducts});case"SORT_PRODUCTS":return Object.assign({},e,{sort:t.payload.sort,filteredProducts:t.payload.filteredProducts});case"ADD_TO_CART":case"REMOVE_FROM_CART":return Object.assign({},e,{cartItems:t.payload.cartItems});case"GET_LOCAL_CART":return Object.assign({},e,{cartItems:t.payload});default:return e}}}),_=Object(u.d)(I,Object(u.a)(s.a,C));l.a.render(r.a.createElement(o.a,{store:_},r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.987828eb.chunk.js.map